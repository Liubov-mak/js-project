(()=>{"use strict";(()=>{const t=document.querySelector(".up"),e=function(){0!==window.scrollY&&setTimeout((function(){window.scrollTo(0,window.scrollY-30),e()}),5)};window.addEventListener("scroll",(function(){window.scrollY>=400?t.classList.add("is-visible"):t.classList.remove("is-visible")})),t.addEventListener("click",e)})(),(()=>{const t=document.querySelectorAll('a[href^="#"]');for(let e of t)e.addEventListener("click",(t=>{let i=e.getAttribute("href"),s=document.querySelector(i).offsetTop-95;window.scroll({top:s,behavior:"smooth"}),history.pushState(null,null,i),t.preventDefault()}))})(),(()=>{const t=document.querySelector(".modal-callback"),e=document.querySelector(".modal-overlay");document.querySelector("body").addEventListener("click",(i=>{let s=i.target;(s.classList.contains("button-services")||s.closest(".element-serv")||s.classList.contains("callback-btn"))&&(i.preventDefault(),t.style.display="block",e.style.display="block",t.classList.add("b-show"),e.classList.add("b-show")),(s.closest(".modal-close")||s.classList.contains("modal-overlay"))&&(t.style.display="none",e.style.display="none")}))})(),(()=>{const t=document.querySelectorAll(".acc-tab");for(let e=0;e<t.length;e++)t[e].addEventListener("click",(function(){this.classList.toggle("active");let t=this.nextElementSibling;t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"}))})(),(()=>{const t=document.getElementById("form1"),e=document.createElement("div");e.style.color="#2fab6d",e.style.margin="25px";const i=()=>{setTimeout((()=>{e.textContent=""}),3e3)};t.addEventListener("submit",(s=>{s.preventDefault(),t.appendChild(e);const o=new FormData(t),n={};e.textContent="Загрузка...",o.forEach(((t,e)=>{n[e]=t}));const l=()=>{setTimeout((()=>{t.querySelectorAll("input").forEach((t=>{t.value=""}))}),2e3)},r=t=>!(""===t.fio||""===t.tel||t.fio<2||t.tel.length>=13);var d;!1===r(n)?(e.textContent="Пожалуйста, корректно внесите данные",r(n),l(),i()):((d=n,fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).then((t=>{if(200!==t.status)throw new Error("status network not 200");e.textContent="Спасибо! Мы скоро с Вами свяжемся!",i()})).catch((t=>{e.textContent="Что-то пошло не так...",console.error(t),i()})),l())}));const s=document.getElementById("fio-callback"),o=document.getElementById("tel-callback");s.addEventListener("input",(()=>{s.value=s.value.replace(/[^А-ЯЁа-яё\s]+/g,"")})),o.addEventListener("input",(()=>{o.value=o.value.replace(/[^0-9+]/g,""),o.value=o.value.replace(/\w{13,}/g,"")}))})(),new class{constructor({main:t,wrap:e,next:i,prev:s,infinity:o=!1,position:n=0,slidesToShow:l=1,responsive:r=[]}){this.main=document.querySelector(t),this.wrap=document.querySelector(e),this.slides=document.querySelector(e).children,this.next=document.querySelector(i),this.prev=document.querySelector(s),this.options={position:n,infinity:o,widthSlide:Math.floor(100/l)},this.slidesToShow=l,this.responsive=r}init(){this.addPicClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.responsive&&this.responsInit(),this.autoPlay()}responsInit(){const t=this.slidesToShow,e=this.responsive.map((t=>t.breakpoint)),i=Math.max(...e),s=()=>{const s=document.documentElement.clientWidth;if(s<i)for(let t=0;t<e.length;t++)s<e[t]&&(this.slidesToShow=this.responsive[t].slideToShow,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle());else this.slidesToShow=t,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle()};s(),window.addEventListener("resize",s)}addPicClass(){this.main.classList.add("pic-slider"),this.wrap.classList.add("pic-slider__wrap");for(const t of this.slides)t.classList.add("pic-slider__item")}addStyle(){let t=document.getElementById("sliderCarousel-style");t||(t=document.createElement("style"),t.id="sliderCarousel-style"),t.textContent=`\n                .pic-slider {\n                    overflow: hidden;\n                }\n                .pic-slider__wrap {\n                    display: flex;\n                    transition: transform 0.3s;\n                    will-change: transform; \n                }\n                .pic-slider__item {\n                    flex: 0 0 ${this.options.widthSlide}%;\n                    margin: auto 0;\n                }\n            `,document.head.appendChild(t)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.slidesToShow),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}autoPlay(){let t=setInterval((()=>{this.nextSlider()}),3e3);this.prev.addEventListener("mouseover",(e=>{clearInterval(t)})),this.prev.addEventListener("mouseout",(t=>{this.autoPlay()})),this.next.addEventListener("mouseover",(e=>{clearInterval(t)})),this.next.addEventListener("mouseout",(t=>{this.autoPlay()}))}}({main:".top-slider",wrap:".slider-wrapper",prev:".prev",next:".next",slidesToShow:1,infinity:!0}).init(),new class{constructor({main:t,wrap:e,next:i,prev:s,infinity:o=!1,position:n=0,slidesToShow:l=3,responsive:r=[]}){this.main=document.querySelector(t),this.wrap=document.querySelector(e),this.slides=document.querySelector(e).children,this.next=document.querySelector(i),this.prev=document.querySelector(s),this.options={position:n,infinity:o,widthSlide:Math.floor(100/l)},this.slidesToShow=l,this.responsive=r}init(){this.addServClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.responsive&&this.responsInit()}responsInit(){const t=this.slidesToShow,e=this.responsive.map((t=>t.breakpoint)),i=Math.max(...e),s=()=>{const s=document.documentElement.clientWidth;if(s<i)for(let t=0;t<e.length;t++)s<e[t]&&(this.slidesToShow=this.responsive[t].slideToShow,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle());else this.slidesToShow=t,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle()};s(),window.addEventListener("resize",s)}addServClass(){this.main.classList.add("serv-slider"),this.wrap.classList.add("serv-slider__wrap");for(const t of this.slides)t.classList.add("serv-slider__item")}addStyle(){let t=document.getElementById("servicesCarousell-style");t||(t=document.createElement("style"),t.id="servicesCarousel-style"),t.textContent=`\n\t\t\t\t.serv-slider {\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\t\t\t\t.serv-slider__wrap {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\ttransition: transform 0.3s;\n\t\t\t\t\twill-change: transform; \n\t\t\t\t}\n\t\t\t\t.serv-slider__item {\n\t\t\t\t\tflex: 0 0 ${this.options.widthSlide}%;\n\t\t\t\t\tmargin: auto 0;\n\t\t\t\t}\n\t\t\t`,document.head.appendChild(t)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slides.length-this.slidesToShow),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.slides.length-this.slidesToShow)&&(++this.options.position,this.options.position>this.slides.length-this.slidesToShow&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}}({main:".services-elements",wrap:".services-carousel",prev:".services-arrow .arrow-left",next:".services-arrow .arrow-right",slidesToShow:3,infinity:!0,responsive:[{breakpoint:1024,slideToShow:3},{breakpoint:768,slideToShow:2},{breakpoint:530,slideToShow:1}]}).init(),(()=>{let t=!1;window.addEventListener("scroll",(e=>{window.scrollY>=1400&&(t||(()=>{const e=document.querySelectorAll(".num");e.forEach((t=>{t.classList.add("animated")})),e[0].textContent=800,e[1].textContent=13,e[2].textContent=40,e[3].textContent=120,function(t,i){let s=null;const o=i=>{s||(s=i);const n=Math.min((i-s)/1e3,1);e[0].textContent="> "+Math.floor(n*t),n<1&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}(e[0].textContent),function(t,i){let s=null;const o=i=>{s||(s=i);const n=Math.min((i-s)/1e3,1);e[1].textContent=Math.floor(n*t)+" лет",n<1&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}(e[1].textContent),function(t,i){let s=null;const o=i=>{s||(s=i);const n=Math.min((i-s)/1e3,1);e[2].textContent=Math.floor(n*t)+" мин.",n<1&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}(e[2].textContent),function(t,i){let s=null;const o=i=>{s||(s=i);const n=Math.min((i-s)/1e3,1);e[3].textContent="> "+Math.floor(n*t),n<1&&window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}(e[3].textContent),t=!0})())}))})()})();